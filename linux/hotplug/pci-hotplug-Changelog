2001-10-19
  pci hotplug:
  	- documentation updates.
  TAG: HOTPLUG_PCI_PATCH_2001_10_19

2001-10-19
  pci hotplug:
  	- update to the kernel doc files due to the file name changes.

2001-10-19
  pci hotplug:
  	- cleanups.
  	- added a spinlock to protect the list of pci slots

2001-10-19
  pci hotplug:
  	- renamed the cpqphp driver files to use a common naming convention.

2001-10-19
  pci hotplug:
  	- changed file names from hotplug_pci to pci_hotplug
  	- split the pci hotplug core up into 2 files.
  	- changes due to the name changes.

2001-10-18
  hotplug pci:
  	- removed unused functions (generated by macros now.)
  	- fixed bug in default_write_file().

2001-10-18
  hotplug pci:
  	- made the interface names consistant.

2001-10-18
  hotplug pci:
  	- changed the name of the fs to pcihpfs
  	- removed unused functions
  	- added module protections on get_power_status

2001-10-18
  stupid bug fix.

2001-10-18
  hotplug pci:
  	- converted attention files over to the new form.

2001-10-18
  hotplug pci:
  	- more power read/write cleanups

2001-10-18
  hotplug pci:
  	- added write to our power file ops.

2001-10-18
  hotplug pci:
  	- first test of using our own read functions for the inode.

2001-10-17
  hotplug pci:
  	- small formatting cleanups.

2001-10-17
  hotplug pci:
  	- bug fix from Al Viro to keep the file reference correct.
  	- This fixes the module reference problem.

2001-10-17
  hotplug pci:
  	- small cleanup.

2001-10-17
  hotplug pci:
  	- narrowed the test program down to the true problem.

2001-10-17
  hotplug pci:
  	- more fs hacks.

2001-10-16
  hotplug pci:
  	- added spinlocks to fs code

2001-10-16
  hotplug pci:
  	- added debugging to mount count

2001-10-16
  hotplug pci:
  	- mount changes based on Al Viro's comments

2001-10-16
  hotplug pci:
  	- fs hacks.

2001-10-16
  hotplug pci:
  	- removed unused function.

2001-10-16
  hotplug pci:
  	- tossed ddfs into the driver itself.

2001-10-12
  merge
  TAG: HOTPLUG_PCI_PATCH_2001_10_12

2001-10-11
  hotplug pci:
  	- code formatting cleanups.

2001-10-11
  hotplug pci:
  	- remove commented out code

2001-10-11
  hotplug pci:
  	- went back to proper schedule() call.

2001-10-11
  hotplug pci:
  	- hacked on the wait_for_ctrl_irq function to try to get it to work on all situations.

2001-10-11
  hotplug pci:
  	- second cut at fixing interruptable_sleep_on() races

2001-10-11
  hotplug pci:
  	- first try at removing the _sleep_on() functions

2001-10-11
  hotplug pci:
  	- moved most of the hotplug core specific structure objects into a separate structure

2001-10-11
  hotplug pci:
  	- changed the hotplug_slot.physical_number to be a string due to the needs of the ppc driver.

2001-10-08
  hotplug pci:
  	- removed old code from check_for_compaq_ROM() test

2001-10-08
  hotplug pci:
  	- remove direct memory accesses in check_for_compaq_ROM

2001-10-08
  hotplug pci:
  	- removed some global symbols now that proc.c is gone.
  TAG: HOTPLUG_PCI_PATCH_2001_10_08

2001-10-08
  hotplug pci:
  	- removed pciphfs as we are using ddfs

2001-10-08
  hotplug pci:
  	- fixed a few size mismatches with function calls

2001-10-08
  added dependancy on CONFIG_DDFS for CONFIG_HOTPLUG_PCI

2001-10-08
  hotplug pci:
  	- turned debugging off in ddfs

2001-10-08
  hotplug pci:
  	- forgot to export pci_hp_change_slot_info symbol

2001-10-08
  hotplug pci:
  	- removed proc.c from the build of cpqphpd as it's no longer needed.
  	- removed the ioctl and /dev logic from the hotplug_pci core
  	- changed the documentation style of hotplug_pci.h to the new kernel-doc format for header files.
  	- added callbacks to the hotplug pci core from the cpqhphd driver when slot status has changed.

2001-10-06
  hotplug pci:
  	- added hardware test ability to the filesystem

2001-10-06
  hotplug pci:
  	- removed my /proc test code

2001-10-05
  ddfs fixes:
  	- removed unneeded init_ddfs_fs() prototype in header file
  	- changed do_umount() to kern_umount()
  	- fixed bug that didn't allow directories to be removed.

2001-10-05
  hotplug pci:
  	- added ability to change attention from userspace through filesystem

2001-10-05
  hotplug pci:
  	- added ability to turn on and off the slot from changing the power value from userspace!

2001-10-05
  hotplug pci:
  	- added removal of the files after a slot is removed.
  	- fixed bug with ddfs_entry->write not being NULL.

2001-10-05
  patch for ddfs to handle when there isn't a read or write callback properly.

2001-10-05
  hotplug pci:
  	- fixed file permissions.
  	- added read functions for other paramaters.

2001-10-05
  hotplug pci:
  	- added hotplug_pci fs root.
  	- added read_power function.

2001-10-04
  ddfs fixes

2001-10-04
  hotplug pci:
  	- changed driver to use ddfs to help until driver logic is debugged.

2001-10-04
  hotplug pci:
  	- more cleanups.

2001-10-04
  hotplug pci:
  	- added files to the directory.

2001-10-04
  ddfs patch

2001-10-04
  hotplug pci:
  	- more fs fixes.

2001-10-04
  hotplug pci:
  	- added dentry to the hotplug_pci slot.

2001-10-04
  hotplug pci:
  	- removed kern_mount and kern_umount as they aren't needed for us

2001-10-04
  hotplug pci:
  	added kern_umount

2001-10-04
  hotplug pci:
  	- more fs testing.

2001-10-04
  hotplug pci fs:
  	- added MODULE_LICENSE
  	- fixed root superblock logic

2001-10-04
  hotplug pci:
  	- baby fs steps

2001-10-04
  added pcihpfs.c

2001-10-03
  hotplug pci:
  	- more debugging comments
  	- changed version number of hotplug_pci module.

2001-10-03
  hotplug pci:
  	- added hooks for getting the slot status.

2001-10-03
  hotplug pci:
  	- changed the api to use EXPORT_SYMBOL_GPL
  	- removed pci_hp_notify_id and supporting code.

2001-10-03
  fix for EXPORT_SYMBOL_GPL

2001-10-03
  added anton's rs6000 hotplug pci driver to the tree

2001-10-03
  hotplug pci:
  	- fixed bug that made the kernel threads increase the load average.
  	- Thanks to Arjan for pointing it out.

2001-09-28
  hotplug pci:
  	- fixed problem with slot info on initialization

2001-09-28
  hotplug pci:
  	debugging info added for a test...

2001-09-28
  hotplug pci:
  	- added hotplug_slot->info support

2001-09-26
  hotplug pci:
  	- first try at a proc interface for the slots.

2001-09-25
  hotplug pci:
  	- name change for the hotplug_slot_ops fields
  	- fixed the documentation with the interface name changes.
  	- added MODULE support to the hotplug_pci core to prevent a
  	  a child module from disappearing while it is being called.
  	- no more oops if the hotplug_slot_ops is missing a field.
  TAG: HOTPLUG_PCI_PATCH_2001_09_25

2001-09-25
  hotplug pci:
  	- fixed 64 bit problems in the hotplug_pci core.

2001-09-24
  hotplug pci:
  	- changes to the compaq driver to handle the new socket based hotplug pci interface

2001-09-24
  hotplug pci:
  	- changed interface from hotplug_controller to hotplug_slot
  	  for hotplug_pci.c and hotplug_pci.h

2001-09-20
  hotplug pci:
  	- added MODULE_LICENSE("GPL") to cpqphpd driver.

2001-09-20
  hotplug pci:
  	- controller proc bug fixes.
  TAG: HOTPLUG_PCI_PATCH_2001_09_20

2001-09-20
  hotplug pci:
  	- moved controller proc logic into a seperate file.

2001-09-19
  hotplug pci:
  	- more namespace cleanup

2001-09-19
  hotplug pci:
  	- more namespace cleanups

2001-09-19
  hotplug pci:
  	- removed resmgr.c from the build :)

2001-09-19
  hotplug pci:
  	- removed resmgr.c

2001-09-19
  hotplug pci:
  	- moved last function fro resmgr.c into ctrl.c

2001-09-19
  hotplug pci:
  	- cleaned up the namespace by moving lots of the resource management functions into ctrl.c

2001-09-19
  hotplug pci:
  	- made pci functions only exported symbols if CONFIG_HOTPLUG is enabled.

2001-09-19
  hotplug pci:
  	- more cleanups of places that we touched the pci core code.

2001-09-18
  hotplug pci:
  	- code shuffling, removing 2 global functions and 1 global symbol

2001-09-18
  hotplug pci:
  	- put snprintf back to sprintf to keep the pci patch smaller.

2001-09-18
  hotplug pci:
  	- renamed proc_attach_pci_bus and proc_detach_pci_bus to 
  	  pci_proc_attach_bus and pci_proc_detach_bus to keep the 
  	  namespace consistant

2001-09-18
  hotplug pci:
  	- removed proc_attach_pci_dev

2001-09-18
  hotplug pci:
  	- removed proc_detach_pci_dev

2001-09-17
  hotplug pci:
  	- attempt to start cleaning up the /proc/pci stuff

2001-09-17
  hotplug pci:
  	- documentation cleanups.
  	- added hotplug_pci.c to the kernel-api document.
  TAG: HOTPLUG_PCI_PATCH_2001_09_17

2001-09-17
  hotplug pci:
  	- made the _nodev functions use dynamically allocated memory instead of the stack.
  	- also make them all try to find a real pci_dev before dropping to create their own.

2001-09-17
  hotplug pci:
  	- more documenting.

2001-09-16
  added documentation for the pci_*_nodev functions

2001-09-16
  fixed ability to compile the hotplug_pci driver into the kernel

2001-09-16
  more hotplug_pci.h documentation updates.

2001-09-16
  added comments to the hotplug_pci.h file

2001-09-14
  hotplug pci:
  	- enabled hotplug_pci to export symbols if it is compiled into the kernel
  	- added documentation to some of the global functions.

2001-09-14
  hotplug pci:
  	- removed global pci_dev pointer.
  	- changed the controller structure to have it's own pci_ops that is used to talk to the bus.

2001-09-14
  hotplug pci:
  	- WRITE_CONFIG_DWORD cleanups

2001-09-14
  hotplug pci:
  	- removal of WRITE_CONFIG_WORD stuff

2001-09-14
  hotplug pci:
  	- more pci_access_config cleanup, this time replacement for pci_write_config_word

2001-09-14
  hotplug pci:
  	- more pci_access_config cleanup

2001-09-14
  hotplug pci:
  	- more pci_access_config removals

2001-09-14
  hotplug_pci:
  	- more pci_access_config cleanups

2001-09-14
  hotplug pci:
  	- moved pci_read_config_*_nodev functions to hotplug_pci module.
  	- converted all pci_access_config(READ_CONFIG_BYTE...) calls with pci_read_config_byte_nodev calls.

2001-09-14
  hotplug pci:
  	- converted some pci_access_config to pci_read_config_byte_nodev

2001-09-14
  hotplug pci:
  	- added pci_read_config_*_nodev functions

2001-09-13
  hotplug pci:
  	cleaning up pci_access_config()

2001-09-13
  hotplug pci:
  	- removed a lot of functions that were not being used
  	- moved functions from support.c to hotplug_pci module
  	- moved smbios functions to pci.c
  	- deleted support.c

2001-09-12
  hotplug pci:
  	- put back the pci_hp_get_controller_from_slot function for now.

2001-09-12
  hotplug pci:
  	- removed romcall.S as it's now inline assembly

2001-09-12
  hotplug pci driver:
  	- lots of changes to use the hotplug_pci interface

2001-09-11
  hotplug pci:
  	- fixed bug in proc entry
  	- more core cleanup
  TAG: HOTPLUG_BEFORE_SPLIT

2001-09-11
  hotplug pci:
  	- moved some more data structures around.

2001-09-11
  hotplug pci:
  	- another split of the core.

2001-09-10
  hotplug pci driver:
  	- starting moving things to a hotplug_controller structure

2001-09-10
  hotplug pci driver:
  	- changed accesses to slot resource table to use proper pci interface.

2001-09-10
  hotplug pci driver:
  	- renamed hotplug_pci.h to cpqphp.h

2001-09-10
  hotplug pci driver:
  	- updated copyright and contact info

2001-09-09
  hotplug pci:
  	- replaced DBG macro with dbg as it conflicted with same macro in pci-i386 header file

2001-09-08
  hotplug pci:
  	- added inline assembly to replace the romcall.S file.
  	- Thanks to Steve Christiansen for the patch.

2001-09-07
  hotplug pci driver:
  	- moved ev_hrt_header and ev_hrt_ctrl out of hotplug_pci.h and into compaq_nvram.c

2001-09-07
  hotplug pci driver:
  	- removed the next, func, ctrl, and Time members of the 
  	  struct event_info object, as they were not being used.

2001-09-07
  hotplug pci driver:
  	- moved is_slot64bit and is_slot_66mhz to the controller structure

2001-09-07
  hotplug pci:
  	- start of creating an api for a hotplug controller.

2001-09-06
  pci hotplug:
  	- removed unused ioctl structures.

2001-09-05
  hotplug pci:
  	- removed irq_ structures from our header file.
  	- added #include to where those structures really live.

2001-09-05
  hotplug pci:
  	- removed compile warnings in the pci code that the patch introducted.
  	- switched from sprintf to snprintf in the pci proc code.

2001-09-05
  hotplug pci driver:
  	cleaned up the sections of pci code that the driver had touched.

1.1, 2001-
  hotplug pci driver:
  	- fixed typo.

2001-08-31
  enable hotplug pci driver to be able to be compiled into the kernel

2001-08-12
  hotplug pci driver:
  	- updated the authors list.

2001-08-03
  TAG: HOTPLUG_PCI_PATCH_2001_08_03

2001-08-03
  hotplug pci driver:
  	- bumped the version number to 0.9.5

2001-08-03
  hotplug pci driver:
  	- removed debugging code

2001-08-03
  hotplug pci driver:
  	- forced struct hrt to be packed

2001-08-03
  hotplug pci driver:
  	- removed directory memory accesses of the struct hrt

2001-08-03
  hotplug pci driver:
  	- cleaned up the error handling some more.
  	- added more error checks on initialization.

2001-08-03
  hotplug pci driver:
  	- first cut at cleaning up the error handling on startup.

2001-08-02
  hotplug pci driver:
  	- added more error handling on startup.
  	- removed incorrect iounmap call.

2001-08-02
  hotplug pci driver:
  	- removed direct accesses to smbios_system_slot structure

2001-08-02
  hotplug pci driver:
  	- removed all direct accesses of the smbios_generic structure

2001-08-02
  hotplug pci driver:
  	- removed all direct accesses to the smbios_entry_point structure

2001-08-01
  hotplug pci driver:
  	- started converting smbios_table accesses to the proper pci accesses

2001-08-01
  hotplug pci driver:
  	- fixed detect_SMBIOS_pointer after testing it :)

2001-08-01
  hotplug pci driver:
  	- changed detect_SMBIOS_pointer to access pci space correctly.

2001-08-01
  hotplug pci driver:
  	- changed from using magic numbers to using offsetof to determine structure offsets

2001-08-01
  hotplug pci driver:
  	- fixed bug in slot_enable() that I added from the conversion patch.

2001-08-01
  hotplug pci driver:
  	- pci.c converted from hpc_reg structure accesses to offsets
  	- cpqphp.c got rid of incorrect cast.

2001-08-01
  hotplug pci driver:
  	- converted cpqphp.c from using hpc_reg structure to offsets

2001-08-01
  hotplug pci driver:
  	- converted ctrl.c hpc_reg accesses from structure to pure offsets

2001-08-01
  hotplug pci driver:
  	- more cleanup from improper pci memory space accesses

2001-08-01
  hotplug pci driver:
  	- start of cleaning up pointers that shouldn't be pointers.

2001-07-23
  TAG: HOTPLUG_PCI_PATCH_2001_07_23

2001-07-23
  hotplug pci driver:
  	- bumped up the version number to 0.9

2001-07-23
  hotplug pci driver:
  	- removed the Intel label, what was I thinking...

2001-07-23
  hotplug pci driver:
  	- replaced more magic numbers with the proper PCI_* values

2001-07-22
  hotplug pci driver:
  	- more pci_access_config formatting cleanups

2001-07-21
  hotplug pci driver:
  	- replaced more magic numbers with #defines

2001-07-21
  hotplug pci driver:
  	- replaced a lot of magic numbers with proper #defines
  	- removed commented out code

2001-07-21
  hotplug pci driver:
  	- made some functions return int instead of long
  	- removed some unneeded defines.
  	- made error messages better.

2001-07-21
  hotplug pci driver:
  	- rolled back the last few changes to get back to a working driver.

2001-07-13
  hotplug pci driver:
  	- fixed bug in pci_hp_set_irq with incorrect error handling

2001-07-12
  hotplug pci driver:
  	- removed some functionality out of pci_access_config that is no longer needed.

2001-07-12
  hotplug pci driver:
  	- more conversions of pci_access_config to pci_read_config/pci_write_config

2001-07-11
  hotplug pci driver:
  	- more pci_access_config conversion where possible.

2001-07-11
  hotplug pci:
  	- start of replacing some pci_access_config calls
  	  with direct pci calls.

2001-07-11
  hotplug pci driver:
  	- first cut at replacing some of the pci_access_config calls 
  	  with proper pci core calls

2001-07-10
  TAG: HOTPLUG_PCI_PATCH_2001_07_10

2001-07-10
  hotplug pci driver:
  	- fixed a few remaining instances of accessing the hardware directly.

2001-07-10
  hotplug pci driver:
  	- finished cleaning up direct access to the hpc_reg structure.
  	- removed another compiler warning.

2001-07-10
  hotplug pci driver:
  	- replaced direct memory accesses to the led_control, sogo, and
  	  status registers with proper inline functions that do readw and writew

2001-07-10
  hotplug pci driver:
  	- fixed unresolved symbol "pci_hp_debug" error.

2001-07-10
  hotplug pci driver:
  	- made the info message a bit more informative.

2001-07-09
  hotplug pci driver:
  	- made debugging messages a module load option
  	- removed a global symbol
  	- removed a compile time warning
  	- added lots of error checking on the initialization sequence.

2001-07-09
  hotplug pci driver:
  	- dropped the need for the timer in long_delay

2001-07-09
  hotplug pci driver:
  	- fixed long_delay() to play nice with the rest of the kernel.

2001-07-09
  hotplug pci driver:
  	- first cut at replacing the long_delay() macro 
  	  with something that plays nice with the system.

2001-07-06
  hotplug pci driver:
  	got rid of GENERAL_FAILURE #define

2001-07-06
  hotplug pci driver:
  	- more out of memory checks added.

2001-07-06
  hotplug pci driver:
  	- small check to avoid oops if we are out of memory

2001-07-05
  hotplug pci driver:
  	- removed GENERAL_FAILURE from proc.c
  	- added more error checking of return values in pci.c

2001-07-05
  hotplug pci driver:
  	- removed GENERAL_FAILURE define reliance in pci.c

2001-07-05
  hotplug pci driver:
  	- added CAP_SYS_RAWIO check for when the user wants to change something.

2001-07-05
  hotplug pci driver:
  	- removed MOD_* as THIS_MODULE now handles that for us.
  	- return the proper error value for ioctl call
  	- check the value of the copy_to_user call

2001-07-04
  hotplug pci driver:
  	- removed lots of #defines that were not being used.

2001-07-03
  hotplug pci driver:
  	- added Configure.help entries
  	- made the driver EXPERMENTAL

2001-07-03
  hotplug pci:
  	- cleaned up the makefile

2001-07-03
  hotplug pci driver:
  	- cleaned up ioctl typedefs

2001-07-03
  hotplug pci driver:
  	- comment cleanups.

2001-07-03
  hotplug pci driver:
  	- split out the Compaq NVRAM code to a separate file for those without Compaq hardware.
  	- updated the config for all of this.
  	- updated the comment banner on all of the files.

2001-07-02
  hotplug pci driver:
  	- loads of namespace cleanups.  Hopefully the end of them.

2001-07-02
  hotplug pci driver:
  	- moved the files into a different directory and changed the names of the files.

2001-07-02
  hotplug pci driver:
  	- more formatting cleanups.

2001-07-02
  hotplug pci driver:
  	- started cleaning out commented out code chunks.

2001-07-01
  hotplug pci driver:
  	- fixed the printk macros to compile properly on older versions of gcc (like egcs)

2001-06-29
  hotplug pci driver:
  	- cleaned up the logging macros to use the module name instead of filename
  	- took out outb flipping due to old need.

2001-06-29
  pci hotplug driver:
  	- cleaned up a lot of the #include file mess.

2001-06-29
  moved drivers/hotplug/cpqphpd/Config.in to drivers/hotplug/Config.in

2001-06-29
  hotplug pci driver:
  	- fixed dbg message.
  	- made driver accept all HOTPLUG PCI device types (needs to be tested better)
  	- fixed bug where if pci_module_init failed, the minor number was still left registered to structures that were no longer in memory.

2001-06-28
  hotplug pci driver:
  	- lots more global symbol cleanup.
  	- removed another unused spinlock.

2001-06-28
  hotplug pci driver:
  	- reworked locking code to now work properly (couldn't use spinlocks where they were being used.)
  	- removed unused spinlock
  	- removed compiler warning about int15_bios_call

2001-06-28
  hotplug pci:
  	- more global symbol removal

2001-06-26
  hotplug pci driver
  	- lots of name space cleanups and a few compiler warnings removed.

2001-06-22
  hotplug-pci
  	- small header file fix.

2001-06-14
  hotplug pci driver:
  	fixed "no device in system, yet the driver still loads" bug.

2001-06-14
  hotplug pci:
  	removed a global variable
  	first cut at fixing the "don't have this device so don't load the module" bug.

2001-06-07
  hotplug pci driver:
  	- stupid logic bug fixed that was caused by my cleanups.
  TAG: HOTPLUG_PCI_PATCH_2001_06_07

2001-06-06
  hotplug pci driver
  	- lots more global symbol cleanups.

2001-06-05
  hotplug pci:
  	- more typedef removals

2001-06-04
  hotplug pci driver
  	- #define cleanups

2001-06-04
  hotplug pci changes:
  	- removed SUCCESS and FAILURE #defines

2001-06-04
  lots of little things in the hotplug pci driver:
  	- more typedef removals
  	- global namespace cleaning
  	- removed some global names
  	- converted to "new" structure initializers.

2001-06-04
  Forgot to check in cpqphpd.h in last push:
  	- changed logic on controller->push_button and controller->slot_switch_type to be sane
  	- removed 3 global variables

2001-06-04
  hotplug_pci changes:
  	- removed 3 global variables
  	- reversed logic on controller->push_button and controller->slot_switch_type to make it sane :)
  	- cleanups on probe initialization to make logic cleaner and easier to extend in the future.

2001-06-01
  hotplug pci driver work:
  	- replaced all printk calls with proper macro calls to enable logging levels
  	- cleaned up format string bugs in debug macros
  	- replaced the global message string table with #defines cleaning up the namespace.
  	- enabled debugging

2001-05-30
  more hotplug driver typedef cleanups

2001-05-29
  hotplug driver:
  	removed typedefs, and moved functions to the header file to get rid of "no prototype" warnings.

2001-05-25
  small cleanups in hotplug header files

2001-05-25
  cleaned up some typedefs and #defines.
  Bit of formatting cleanups in header files

2001-05-02
  whitespace changes to follow kernel style


